<header class="row" ng-include="'/client/dist/html/examples-spa/_nginclude/05header.html'"></header>

<div class="row">
	<div class="col-sm-8">
		<ol class="col-sm-7 breadcrumb">
  			<li><a href="/">Home</a></li>
  			<li><a href="/examples-spa">SPA Examples</a></li>
  			<li class="active">Login</li>
		</ol>
	</div>
</div>

<section class="main-block">

	<div class="row">
		<div class="col-sm-12">
			<h1>Login Examples</h1>

			<h3>Basic Authentication</h3>
			<br>1. When user type username &amp; password in login form a string 'username:password' is encoded to base64 (john:test  =>  am9objp0ZXN0)
			<br>2. A request with header: <b>Authorization: Basic am9objp0ZXN0</b> is sent to API.
			<br>3. If auth was successful API returns object
			{"isLoggedIn": true,
			 "msg": "Basic authentication was succcessfull.",
  			 "putLocally": {
    			"username": "john",
    			"authHeader": "Basic am9objp0ZXN0"
  		     }
  		    }
  		    <br>4. A cookie is set with object 'putLocally'
  		    <br>5. Angular sets up interceptor and each $http request sent to API is intercepted with 'Authorization':'Basic am9objp0ZXN0' header

			<br><br>
			<a ui-sref="examples-spa_login_basic_form">Try Basic Auth example ...</a>



			<h3 style="margin-top:50px">JWT Authentication</h3>
			<br><br>
			<a ui-sref="examples-spa_login_jwt_form">Try JWT Auth example ...</a>

		</div>
	</div>





	<div class="row" style="margin-top:50px;">
		<div class="col-sm-12">
			<h3>Preconditions</h3>
			1. Directive will send 'username' and 'password' object properties to API: {username: 'john', password: 'test'} .
			It is also possible to define some other variable names for example 'user', 'pass' if your API requires so.
			<br>2. API response object when username and password are correct <u>must have this format</u>:
			{	"isLoggedIn": true,
  				"msg": "Basic authentication was succcessfull.",
  				"putLocally": {
    				"username": "john",
    				"authHeader": "Basic am9objp0ZXN0"
  			}
  			<br>3. Cookie will be set with 'putLocally' object.
  			<br>4. configuration
				ngPassportBasic.constant('NGPASSPORT_CONF_BASIC', {
				    API_BASE_URL: 'http://localhost:9005',
				    API_AUTH_PATHNAME: '/examples/auth/passport/basicstrategy',
				    URL_AFTER_SUCCESSFUL_LOGIN: '/examples-spa/login/page1',
				    URL_AFTER_LOGOUT: '/examples-spa/login/form'
				});

		</div>
	</div>




</section>


<footer class="row" ng-include="'/client/dist/html/examples-spa/_nginclude/20footer.html'"></footer>
